"""seed nfl schedule

Revision ID: 003
Revises: 002
Create Date: 2025-10-28

Description:
Seeds the nfl_schedule table with schedule data for 2025-2030 seasons.
Each season has 18 weeks with proper dates and kickoff times.
"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy import text

# revision identifiers, used by Alembic.
revision = '003'
down_revision = '002'
branch_labels = None
depends_on = None


def upgrade():
    """Seed NFL schedule data for 2025-2030."""

    # NFL schedule data for 2025
    schedule_2025 = [
        (2025, 1, '2025-09-07', '13:00', 16, False),
        (2025, 2, '2025-09-14', '13:00', 16, False),
        (2025, 3, '2025-09-21', '13:00', 16, False),
        (2025, 4, '2025-09-28', '13:00', 16, False),
        (2025, 5, '2025-10-05', '13:00', 16, False),
        (2025, 6, '2025-10-12', '13:00', 16, False),
        (2025, 7, '2025-10-19', '13:00', 16, False),
        (2025, 8, '2025-10-26', '13:00', 16, False),
        (2025, 9, '2025-11-02', '13:00', 16, False),
        (2025, 10, '2025-11-09', '13:00', 16, False),
        (2025, 11, '2025-11-16', '13:00', 16, False),
        (2025, 12, '2025-11-23', '12:30', 16, False),  # Thanksgiving
        (2025, 13, '2025-11-30', '13:00', 16, False),
        (2025, 14, '2025-12-07', '13:00', 16, False),
        (2025, 15, '2025-12-14', '13:00', 16, False),
        (2025, 16, '2025-12-21', '13:00', 16, False),
        (2025, 17, '2025-12-28', '13:00', 16, False),
        (2025, 18, '2026-01-04', '13:00', 16, False),
    ]

    # NFL schedule data for 2026 (same structure, one year ahead)
    schedule_2026 = [
        (2026, 1, '2026-09-06', '13:00', 16, False),
        (2026, 2, '2026-09-13', '13:00', 16, False),
        (2026, 3, '2026-09-20', '13:00', 16, False),
        (2026, 4, '2026-09-27', '13:00', 16, False),
        (2026, 5, '2026-10-04', '13:00', 16, False),
        (2026, 6, '2026-10-11', '13:00', 16, False),
        (2026, 7, '2026-10-18', '13:00', 16, False),
        (2026, 8, '2026-10-25', '13:00', 16, False),
        (2026, 9, '2026-11-01', '13:00', 16, False),
        (2026, 10, '2026-11-08', '13:00', 16, False),
        (2026, 11, '2026-11-15', '13:00', 16, False),
        (2026, 12, '2026-11-22', '12:30', 16, False),  # Thanksgiving
        (2026, 13, '2026-11-29', '13:00', 16, False),
        (2026, 14, '2026-12-06', '13:00', 16, False),
        (2026, 15, '2026-12-13', '13:00', 16, False),
        (2026, 16, '2026-12-20', '13:00', 16, False),
        (2026, 17, '2026-12-27', '13:00', 16, False),
        (2026, 18, '2027-01-03', '13:00', 16, False),
    ]

    # NFL schedule data for 2027
    schedule_2027 = [
        (2027, 1, '2027-09-05', '13:00', 16, False),
        (2027, 2, '2027-09-12', '13:00', 16, False),
        (2027, 3, '2027-09-19', '13:00', 16, False),
        (2027, 4, '2027-09-26', '13:00', 16, False),
        (2027, 5, '2027-10-03', '13:00', 16, False),
        (2027, 6, '2027-10-10', '13:00', 16, False),
        (2027, 7, '2027-10-17', '13:00', 16, False),
        (2027, 8, '2027-10-24', '13:00', 16, False),
        (2027, 9, '2027-10-31', '13:00', 16, False),
        (2027, 10, '2027-11-07', '13:00', 16, False),
        (2027, 11, '2027-11-14', '13:00', 16, False),
        (2027, 12, '2027-11-21', '12:30', 16, False),  # Thanksgiving
        (2027, 13, '2027-11-28', '13:00', 16, False),
        (2027, 14, '2027-12-05', '13:00', 16, False),
        (2027, 15, '2027-12-12', '13:00', 16, False),
        (2027, 16, '2027-12-19', '13:00', 16, False),
        (2027, 17, '2027-12-26', '13:00', 16, False),
        (2027, 18, '2028-01-02', '13:00', 16, False),
    ]

    # NFL schedule data for 2028
    schedule_2028 = [
        (2028, 1, '2028-09-03', '13:00', 16, False),
        (2028, 2, '2028-09-10', '13:00', 16, False),
        (2028, 3, '2028-09-17', '13:00', 16, False),
        (2028, 4, '2028-09-24', '13:00', 16, False),
        (2028, 5, '2028-10-01', '13:00', 16, False),
        (2028, 6, '2028-10-08', '13:00', 16, False),
        (2028, 7, '2028-10-15', '13:00', 16, False),
        (2028, 8, '2028-10-22', '13:00', 16, False),
        (2028, 9, '2028-10-29', '13:00', 16, False),
        (2028, 10, '2028-11-05', '13:00', 16, False),
        (2028, 11, '2028-11-12', '13:00', 16, False),
        (2028, 12, '2028-11-19', '12:30', 16, False),  # Thanksgiving
        (2028, 13, '2028-11-26', '13:00', 16, False),
        (2028, 14, '2028-12-03', '13:00', 16, False),
        (2028, 15, '2028-12-10', '13:00', 16, False),
        (2028, 16, '2028-12-17', '13:00', 16, False),
        (2028, 17, '2028-12-24', '13:00', 16, False),
        (2028, 18, '2029-01-01', '13:00', 16, False),
    ]

    # NFL schedule data for 2029
    schedule_2029 = [
        (2029, 1, '2029-09-02', '13:00', 16, False),
        (2029, 2, '2029-09-09', '13:00', 16, False),
        (2029, 3, '2029-09-16', '13:00', 16, False),
        (2029, 4, '2029-09-23', '13:00', 16, False),
        (2029, 5, '2029-09-30', '13:00', 16, False),
        (2029, 6, '2029-10-07', '13:00', 16, False),
        (2029, 7, '2029-10-14', '13:00', 16, False),
        (2029, 8, '2029-10-21', '13:00', 16, False),
        (2029, 9, '2029-10-28', '13:00', 16, False),
        (2029, 10, '2029-11-04', '13:00', 16, False),
        (2029, 11, '2029-11-11', '13:00', 16, False),
        (2029, 12, '2029-11-18', '12:30', 16, False),  # Thanksgiving
        (2029, 13, '2029-11-25', '13:00', 16, False),
        (2029, 14, '2029-12-02', '13:00', 16, False),
        (2029, 15, '2029-12-09', '13:00', 16, False),
        (2029, 16, '2029-12-16', '13:00', 16, False),
        (2029, 17, '2029-12-23', '13:00', 16, False),
        (2029, 18, '2029-12-30', '13:00', 16, False),
    ]

    # NFL schedule data for 2030
    schedule_2030 = [
        (2030, 1, '2030-09-01', '13:00', 16, False),
        (2030, 2, '2030-09-08', '13:00', 16, False),
        (2030, 3, '2030-09-15', '13:00', 16, False),
        (2030, 4, '2030-09-22', '13:00', 16, False),
        (2030, 5, '2030-09-29', '13:00', 16, False),
        (2030, 6, '2030-10-06', '13:00', 16, False),
        (2030, 7, '2030-10-13', '13:00', 16, False),
        (2030, 8, '2030-10-20', '13:00', 16, False),
        (2030, 9, '2030-10-27', '13:00', 16, False),
        (2030, 10, '2030-11-03', '13:00', 16, False),
        (2030, 11, '2030-11-10', '13:00', 16, False),
        (2030, 12, '2030-11-17', '12:30', 16, False),  # Thanksgiving
        (2030, 13, '2030-11-24', '13:00', 16, False),
        (2030, 14, '2030-12-01', '13:00', 16, False),
        (2030, 15, '2030-12-08', '13:00', 16, False),
        (2030, 16, '2030-12-15', '13:00', 16, False),
        (2030, 17, '2030-12-22', '13:00', 16, False),
        (2030, 18, '2030-12-29', '13:00', 16, False),
    ]

    # Combine all schedules
    all_schedules = schedule_2025 + schedule_2026 + schedule_2027 + schedule_2028 + schedule_2029 + schedule_2030

    # Insert into nfl_schedule table
    conn = op.get_bind()
    for season, week, slate_date, kickoff_time, game_count, is_playoff in all_schedules:
        conn.execute(
            text("""
                INSERT INTO nfl_schedule (season, week, slate_date, kickoff_time, game_count, is_playoff)
                VALUES (:season, :week, :slate_date, :kickoff_time, :game_count, :is_playoff)
            """),
            {
                "season": season,
                "week": week,
                "slate_date": slate_date,
                "kickoff_time": kickoff_time,
                "game_count": game_count,
                "is_playoff": is_playoff,
            }
        )


def downgrade():
    """Remove NFL schedule data."""
    op.execute(text("DELETE FROM nfl_schedule WHERE season BETWEEN 2025 AND 2030"))
